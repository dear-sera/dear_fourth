{% extends 'base.html' %}

{% block content %}

  <div>
    <div style="text-align: center; max-width: 700px; margin: 4rem auto;">

      <h1>
        {{ target_article.title }}
      </h1>
      <h5>
        {{ target_article.writer.profile.nickname }}
      </h5>
      <hr>

      <img style="width: 100%; border-radius: 1rem; margin: 2rem 0;"
              src="{{ target_article.image.url }}" alt="">

      <p>
        {{ target_article.content }}
      </p>

      {% if target_article.writer == user %}
      <a href="{% url 'articleapp:update' pk=target_article.pk %}"
      class="btn btn-primary rounded-pill col-3">
         Update
      </a>
      <a href="{% url 'articleapp:delete' pk=target_article.pk %}"
      class="btn btn-danger rounded-pill col-3">
         Delete
      </a>
      {% endif %}
      <hr>
      <!--target_article의 fk로 엮인 코맨트들을 for문을 돌려 가져온다 -->
      {% for comment in target_article.comment.all %}
        <!--comment에 들어있는 내용을 for문으로 다 가져오는데 안에는 comment이름으로 접근 가능하게 comment를 넣어준다-->
        {% include 'commentapp/detail.html' with comment=comment %}
      {% endfor %}

      {% include 'commentapp/create.html' with article=target_article %}

    </div>
  </div>


{% endblock %}

